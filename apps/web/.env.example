# apps/web/.env.example
# ========================================================
# - Next.js アプリ（apps/web）の環境変数サンプル（例示のみ、実値は入れない）
# - ローカルは .env.local を作成し、このファイルを参考に「キーの存在・用途・必須/任意」を揃える
#
# 契約:
# - NEXT_PUBLIC_* はクライアント（ブラウザ）へ公開される
# - それ以外はサーバ側のみで使用し、クライアントへ混入させない
# - 本番値は GitHub Actions / Cloud Run / Secret Manager などから注入し、リポジトリには置かない
#
# 前提:
# - Secrets セクションは秘密情報のため、ローカルでもコミット禁止（.env.local / Secret Manager を使用）
# - Emulator 系は本番で有効化しない（事故要因になりやすい）
# - 値の参照は process.env 直読みを避け、env.client.ts / env.server.ts 経由に統一する（型・必須漏れ・混入防止）
# ========================================================

# ----------------------------
# Client Variables
# - クライアントに公開される環境変数
# - 本番環境ではGitHubの環境変数で入れる想定
# ----------------------------

# 実行環境
# - オブザーバビリティ用
NEXT_PUBLIC_APP_ENV=dev

# 法務ページのお問い合わせフォームURL
# 例: https://forms.gle/xxxxxxxxxxxxxxxxx
NEXT_PUBLIC_CONTACT_FORM_URL=https://forms.gle/your_form_id

# --- Firebase Authentication ---

# Firebase Client SDK が呼ぶ Firebase の Web API キー
NEXT_PUBLIC_FIREBASE_API_KEY=your_firebase_api_key
# Firebase 上で Web アプリを登録したときに割り当てられるアプリ識別子
NEXT_PUBLIC_FIREBASE_APP_ID=your_firebase_app_id
# Firebase Authentication が利用する認証用ドメイン
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your_firebase_auth_domain
# Firebase プロジェクトID
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your_firebase_project_id

# --- Sentry ---

# Sentry DSN（Data Source Name）
NEXT_PUBLIC_SENTRY_DSN=your_sentry_dsn
# Sentry 環境名（environment）
NEXT_PUBLIC_SENTRY_ENVIRONMENT=dev
# Sentry リリース名（release）
# - Git SHA の公開は避けたいので、公開しても問題ない識別子を使う
NEXT_PUBLIC_SENTRY_RELEASE=local-dummy-release  # これだけはGitHub Actionsのワークフロー内で生成されるため、GitHubの環境変数に入っていない

# --- Firebase Emulator ---

# Firebase Client SDK （ブラウザ）で Auth Emulator を使うかどうか（使うなら1をセット）
# ※本番では有効化しないこと
NEXT_PUBLIC_USE_FIREBASE_AUTH_EMULATOR=1

# ----------------------------
# Server Variables
# - クライアントに公開されない環境変数
# - 本番環境ではGitHubの環境変数で入れる想定
# ----------------------------

# 実行環境
# - オブザーバビリティ・Auth Emulator・Vitest用
# - 公開用と同値
APP_ENV=dev

# アプリ名（Cloud Runサービス名と同じ）
SERVICE_NAME=coffee-ai-mentor-web

# --- Firebase Auth Emulator ---

# Firebase Admin SDK で Auth Emulator を使う時だけ設定する
# ※本番では有効化しないこと
FIREBASE_AUTH_EMULATOR_HOST=127.0.0.1:9099

# --- Google Cloud ---

# Google Cloud プロジェクトID
# - Auth Emulator用（Firebaseプロジェクト名として）
# - オブザーバビリティ用（Cloud Loggingのtraceフィールド生成に使用）
#   （TerraformでCloud Runに付与した環境変数と同じ）
GCP_PROJECT_ID=demo-coffee-ai-mentor

# --- Sentry ---

# 公開用と同値
SENTRY_DSN=your_sentry_dsn
SENTRY_ENVIRONMENT=dev
SENTRY_RELEASE=local-dummy-release  # これだけはGitHub Actionsのワークフロー内で生成されるため、GitHubの環境変数に入っていない

# ----------------------------
# Secrets
# - 秘密情報を含む環境変数
# - 本番環境ではGoogle Cloud Secret Managerで入れる想定
# ----------------------------

# ユーザーIDハッシュ生成用のソルト
# - オブザーバビリティ用
USER_HASH_SALT=dev-salt

# --- Prisma（DB） ---

# Supabase CLIでローカルDBを立ち上げた場合の接続URL
# 例: postgresql://postgres:postgres@localhost:54322/postgres?schema=public
DATABASE_URL=your_database_url
# DIRECT_URL=postgresql://user:pass@localhost:5432/db?schema=public

# --- Supabase ---

SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# --- Gemini API（LLM） ---

GEMINI_API_KEY=your_gemini_api_key

# --- Resend（メール） ---

RESEND_API_KEY=your_resend_api_key
# RESEND_FROM_EMAIL=your_resend_from_email
